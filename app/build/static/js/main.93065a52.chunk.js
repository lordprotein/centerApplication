(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],[,,,,,,function(e,t,n){e.exports={item:"ApplicationItem_item__OsBoq",row:"ApplicationItem_row__3n65z",titleTask:"ApplicationItem_titleTask__USJDv",titleDate:"ApplicationItem_titleDate__3GCF9",titleName:"ApplicationItem_titleName__Z3zHK",titleExecuters:"ApplicationItem_titleExecuters__1BxZR",titlePriority:"ApplicationItem_titlePriority__1fs7u",titleStatus:"ApplicationItem_titleStatus__3YMpO",title:"ApplicationItem_title__1Cgxy",statusFree:"ApplicationItem_statusFree__2Hl8G",statusProcess:"ApplicationItem_statusProcess__30FyM",statusCompleted:"ApplicationItem_statusCompleted__2Mwic",moreInfo:"ApplicationItem_moreInfo__1lG_6",infoTable:"ApplicationItem_infoTable__1C1sr",exeutersTable:"ApplicationItem_exeutersTable__1pv-l"}},,,,,,,,,,,,function(e,t,n){e.exports={cssload_dots:"Loader_cssload_dots__2Cs1-",cssload_dot:"Loader_cssload_dot__5lXiO","cssload-dot-colors":"Loader_cssload-dot-colors__22Zvu","cssload-dot-rotate-1":"Loader_cssload-dot-rotate-1__2jw02","cssload-dot-move":"Loader_cssload-dot-move__3FYmw","cssload-dot-rotate-2":"Loader_cssload-dot-rotate-2__mlMPq","cssload-dot-rotate-3":"Loader_cssload-dot-rotate-3__2xBCe","cssload-dot-rotate-4":"Loader_cssload-dot-rotate-4__3LujZ"}},function(e,t,n){e.exports={formAddAoolication:"FormAddApplication_formAddAoolication__2wleI",field:"FormAddApplication_field__27ibM",error:"FormAddApplication_error__3g1Kb"}},,function(e,t,n){e.exports={userInfo:"UserInfo_userInfo__1e1tX",icon:"UserInfo_icon__3ptrA",title:"UserInfo_title__vnGPT",role:"UserInfo_role__vl3W6"}},function(e,t,n){e.exports={login:"Login_login__o7pbH",field:"Login_field__3an5_",btn:"Login_btn__3XjyS",err:"Login_err__UQAqG"}},,,,,,function(e,t,n){e.exports={title:"ReportItem_title__3gs4N",table:"ReportItem_table__2Wpfu",wrapCalendar:"ReportItem_wrapCalendar__2wRnL"}},,,function(e,t,n){e.exports={page:"Page_page__1nUDZ",title:"Page_title__1egAZ"}},function(e,t,n){e.exports={btn:"Button_btn__50p2f",btnAddApplication:"Button_btnAddApplication__1qEVh"}},,,,function(e,t,n){e.exports={appList:"ApplicationList_appList__34I7E",topLine:"ApplicationList_topLine__3O7Ie"}},function(e,t,n){e.exports={item:"MenuItem_item__1donn",activeItem:"MenuItem_activeItem__2Lxxz"}},,,function(e,t,n){e.exports={bg:"App_bg__1h7bw"}},,function(e,t,n){e.exports={bgSidebar:"Sidebar_bgSidebar__nTAYc"}},function(e,t,n){e.exports={menu:"MenuList_menu__ZNHqP"}},,function(e,t,n){e.exports={btn:"BtnExit_btn__2Uld-"}},function(e,t,n){e.exports={center:"LoginPage_center__1d-cZ"}},function(e,t,n){e.exports=n(60)},,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"setAppList",(function(){return te})),n.d(a,"removeApplication",(function(){return ne})),n.d(a,"updateTitleOfPage",(function(){return ae})),n.d(a,"updatePriority",(function(){return re}));var r={};n.r(r),n.d(r,"setUserInfo",(function(){return ct})),n.d(r,"updateStatusLogin",(function(){return it})),n.d(r,"setExistExecuters",(function(){return ut})),n.d(r,"login",(function(){return ot})),n.d(r,"logout",(function(){return lt}));var c=n(0),i=n.n(c),u=n(25),o=n.n(u),l=n(1),s=n(4),d=n(3),p=n(2),m=n(40),f=n.n(m),E=function(e){var t=e.children;return i.a.createElement("div",{className:f.a.bg},t)},h=n(31),v=n.n(h),g=function(e){var t=e.title,n=e.children;return i.a.createElement("main",{className:v.a.page},i.a.createElement("h2",{className:v.a.title},t),n)},b=n(32),_=n.n(b),O=n(10),x=n(29),j=n(7),A={title:"Page",list:[],count:0},L={isLoading:!0},S={isLogin:!1,userInfo:{name:"",role:"",ID:""},existUsers:[]},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_APP_LIST":var n=t.appList;return Object(j.a)({},e,{list:n,count:n.length});case"REMOVE_APPLICATION":var a=t.ID,r=e.list,c=r.findIndex((function(e){return e.id===a})),i=[].concat(Object(x.a)(r.slice(0,c)),Object(x.a)(r.slice(c+1)));return Object(j.a)({},e,{list:i});case"UPDATE_TITLE_PAGE":var u=t.title;return Object(j.a)({},e,{title:u});case"UPDATE_PRIORITY":var o=t.data,l=o.ID,s=o.priority,d=e.list,p=Object(x.a)(d),m=d.findIndex((function(e){return e.id===l}));return p[m].priority=s,Object(j.a)({},e,{list:p});default:return e}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_STATUS_LOAD":var n=t.status;return Object(j.a)({},e,{isLoading:n});default:return e}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":var n=t.data,a=n.name,r=n.role,c=n.ID;return Object(j.a)({},e,{isLogin:!0,userInfo:{name:a,role:r,ID:c}});case"LOGOUT":return Object(j.a)({},e,{isLogin:!1,userInfo:{name:"",role:"",ID:""}});case"SET_USER_INFO":var i=t.data,u=i.name,o=i.role,l=i.ID;return Object(j.a)({},e,{userInfo:{name:u,role:o,ID:l}});case"UPDATE_STATUS_LOGIN":var s=t.isStatus;return Object(j.a)({},e,{isLogin:s});case"SET_EXIST_EXECUTERS":var d=t.list,p=e.userInfo.ID;return d=d.filter((function(e){return"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"!==e.full_name&&e.ID!==p})),Object(j.a)({},e,{existUsers:d});default:return e}},D=Object(O.b)({applications:y,load:I,user:C}),w=Object(O.c)(D),P=new function e(){var t=this;Object(l.a)(this,e),this.status=function(e){return e[t._libState].isLogin},this.name=function(e){return e[t._libState].userInfo.name},this.role=function(e){return e[t._libState].userInfo.role},this.id=function(e){return e[t._libState].userInfo.ID},this.getAllInfo=function(e){return e[t._libState].userInfo},this.existExecuters=function(e){return e[t._libState].existUsers},this._libState="user"},N=function(e,t){return function(n){Object(d.a)(r,n);var a=Object(p.a)(r);function r(e){var t;return Object(l.a)(this,r),(t=a.call(this,e)).componentDidMount=function(){t.reduxSubscribe(t.updateStatus)},t.getRole=function(){return P.role(w.getState())},t.reduxSubscribe=function(){return w.subscribe(t.updateStatus)},t.updateStatus=function(){var e=t.getRole();e!==t.state.role&&t.setState({role:e})},t.state={role:t.getRole()},t}return Object(s.a)(r,[{key:"render",value:function(){return this.state.role!==e?i.a.createElement(i.a.Fragment,null):i.a.createElement(t,this.props)}}]),r}(c.Component)},T=function(e){return N("Administrator",e)},R=n(16),k=function(){return i.a.createElement(R.b,{to:"application/add"},i.a.createElement("button",{className:_.a.btnAddApplication}))},M=function(e){var t=e.title,n=e.click;return i.a.createElement("button",{onClick:n,className:_.a.btn},t)},U=T(M),F=N("Executer",M),B=n(36),q=n.n(B),G=n(6),W=n.n(G),Z=function(e){var t=e.children;return i.a.createElement("div",{className:q.a.appList},i.a.createElement("div",{className:q.a.topLine},i.a.createElement("div",{className:W.a.titleTask},"\u0417\u0430\u0434\u0430\u0447\u0430"),i.a.createElement("div",{className:W.a.titleDate},"\u0414\u0430\u0442\u0430"),i.a.createElement("div",{className:W.a.titleName},"\u0424\u0438\u043e"),i.a.createElement("div",{className:W.a.titleExecuters},"\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c(-\u043b\u0438)"),i.a.createElement("div",{className:W.a.titlePriority},"\u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442"),i.a.createElement("div",{className:W.a.titleStatus},"\u0421\u0442\u0430\u0442\u0443\u0441")),t)},X=n(8),Y=n(17),H=n.n(Y),J=n(24),V=n(11),z=n.n(V),K=[{titleMenu:"\u0421\u0432\u043e\u0431\u043e\u0434\u043d\u044b\u0435",status:"free"},{titleMenu:"\u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435",status:"process"},{titleMenu:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0435",status:"completed"},{titleMenu:"\u041e\u0436\u0438\u0434\u0430\u0435\u043c\u044b\u0435",status:"pending"},{titleMenu:"\u041e\u0442\u0447\u0451\u0442\u044b",status:null,forRole:"Administrator"}];function $(e){return!1===e.session?[]:e.map((function(e){return{id:e.ID,caseNum:e.case_num,date:e.date,name:e.full_name,phone:e.phone_num,priority:e.priority,status:e.status,task:e.task,countExecuter:e.count_executer,currCountExecuters:e.current_count_executers}}))}var Q=new(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).getApplItem=function(){var t=Object(J.a)(H.a.mark((function t(n){var a;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getResource("/application/".concat(n));case 2:return a=t.sent,t.abrupt("return",$(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getApplList=function(){var t=Object(J.a)(H.a.mark((function t(n,a,r){var c,i;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r?"/application/list/".concat(n):"/executer/application/list/".concat(n,"/").concat(a),t.next=3,e.getResource(c);case 3:return i=t.sent,t.abrupt("return",$(i));case 5:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.getExecuterList=function(t){return e.getResource("/application/executers/".concat(t))},e.getExistExecuters=function(){return e.getResource("/executer")},e.getReportAppWithStatus=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=n?"/report/status/".concat(t,"/").concat(n):"/report/status/".concat(t);return e.getResource(a)},e.logout=function(){return e.getResource("/logout")},e.addApplication=function(t){var n=new Date,a="".concat(n.getFullYear(),"-").concat(n.getMonth(),"-").concat(n.getDate());return t=Object(j.a)({},t,{ID:z()(),date:a,phone:t.phone.replace(/[- )(]/g,"")}),e.methodRequset("/application","POST",t)},e.postAcceptApp=function(t,n){var a={id:z()(),id_application:n};return e.methodRequset("/executer/application/accept/".concat(t),"POST",a)},e.login=function(t,n){return e.methodRequset("/login","POST",{login:t,password:n})},e.toCompleteApp=function(t){return e.methodRequset("/application/status/".concat(t),"PUT",{status:K[2].status})},e.setPriority=function(t,n){return e.methodRequset("/application/priority/".concat(t),"PUT",{priority:n})},e.setCountExecuter=function(t,n){return e.methodRequset("/application/count/executer/".concat(t),"PUT",{count:n})},e.resetAppOfExecuter=function(t,n){return e.methodRequset("/executer/application/reset/".concat(t,"/").concat(n),"DELETE")},e.removeAppItem=function(t){return e.methodRequset("/application/".concat(t),"DELETE")},e}return n}((function e(){var t=this;Object(l.a)(this,e),this.getResource=Object(J.a)(H.a.mark((function e(){var n,a,r,c=arguments;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:"",a=c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,fetch("".concat(t.domain,"/").concat(n),a);case 4:if((r=e.sent).ok){e.next=7;break}throw r.status;case 7:return e.abrupt("return",r.json());case 8:case"end":return e.stop()}}),e)}))),this.methodRequset=function(){var e=Object(J.a)(H.a.mark((function e(n,a){var r,c,i=arguments;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=3,t.getResource(n,{method:a,body:JSON.stringify(r),headers:{"Content-Type":"application/json"}});case 3:return c=e.sent,e.next=6,c;case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.domain="http://localhost:3001"}))),ee=new function e(){Object(l.a)(this,e),this.list=function(e){return e.applications.list},this.title=function(e){return e.applications.title},this.count=function(e){return e.applications.count}};function te(e){return{type:"SET_APP_LIST",appList:e}}function ne(e){return{type:"REMOVE_APPLICATION",ID:e}}function ae(e){return{type:"UPDATE_TITLE_PAGE",title:e}}function re(e,t){return{type:"UPDATE_PRIORITY",data:{ID:e,priority:t}}}var ce=n(18),ie=n.n(ce),ue=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:ie.a.cssload_dots},i.a.createElement("div",{className:ie.a.cssload_dot}),i.a.createElement("div",{className:ie.a.cssload_dot}),i.a.createElement("div",{className:ie.a.cssload_dot}),i.a.createElement("div",{className:ie.a.cssload_dot}),i.a.createElement("div",{className:ie.a.cssload_dot})),i.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("defs",null,i.a.createElement("filter",{id:"goo"},i.a.createElement("feGaussianBlur",{in:"SourceGraphic",result:"blur",stdDeviation:"12"}),i.a.createElement("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0\t0 1 0 0 0\t0 0 1 0 0\t0 0 0 18 -7",result:"goo"})))))};function oe(e){return{type:"UPDATE_STATUS_LOAD",status:e}}var le=new function e(){Object(l.a)(this,e),this.status=function(e){return e.load.isLoading}},se=function(e,t){var n=["\u0421\u0440\u043e\u0447\u043d\u043e","\u041f\u0440\u0435\u0434\u043f\u043e\u0447\u0442\u0438\u0442\u0435\u043b\u044c\u043d\u043e","\u041d\u0435 \u0441\u0440\u043e\u0447\u043d\u043e"];if(!e)return n;if(!t)switch(+e){case 1:return n[0];case 2:return n[1];case 3:return n[2];default:return}switch(e){case n[0]:return 1;case n[1]:return 2;case n[2]:return 3;default:return}},de=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";e=new Date(e);var n="".concat(e.getDate()+t+(e.getMonth()+1)+t+e.getFullYear());return"Invalid Date"!==String(e)?n:"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0430\u044f \u0434\u0430\u0442\u0430"},pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return"".concat(e.slice(0,t)," ...")},me=function(e){var t=e.list,n=e.handleSelect,a=(e.defaultValue,e.title);return i.a.createElement("select",{onChange:n,defaultValue:a},a&&i.a.createElement("option",{disabled:!0},a),t.map((function(e){var t=e.value,n=e.title;return t?i.a.createElement("option",{value:t,key:z()()},n):i.a.createElement("option",{key:z()()},e)})))},fe=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleSelect=function(t){var n=t.target.value;e.props.children(n)},e}return Object(s.a)(n,[{key:"render",value:function(){return i.a.createElement(me,Object.assign({},this.props,{handleSelect:this.handleSelect}))}}]),n}(c.Component),Ee=function(e){var t=e.existExecutersList,n=e.title,a=void 0===n?"":n,r=e.children,c=[];return c=t?t.map((function(e){return{title:e.full_name,value:e.ID}})):P.existExecuters(w.getState()).map((function(e){return{title:e.full_name,value:e.ID}})),i.a.createElement(fe,{list:c,title:a},r)},he=T(Ee),ve=T((function(e){var t=e.handleSelect.setPriority;return i.a.createElement(fe,{list:se(),title:"\u0412\u044b\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442"},(function(e){return t(se(e,!0))}))})),ge=T((function(e){var t=e.handleChange.setCountExecuter;return i.a.createElement("input",{type:"number",onChange:t,placeholder:"\u041a\u043e\u043b-\u0432\u043e \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u0435\u0439"})})),be=function(e){var t=e.handleBtns,n=(e.data,e.existExecutersList);return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement(F,{title:"\u041f\u0440\u0438\u043d\u044f\u0442\u044c",click:t.accept}),i.a.createElement(U,{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",click:t.remove})),i.a.createElement("div",null,i.a.createElement(ve,{handleSelect:t}),i.a.createElement(he,{existExecutersList:n,title:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u0435\u043c"},(function(e){return t.addOneMoreExecuter(e)})),i.a.createElement(ge,{handleChange:t})))},_e=function(e){var t=e.handleBtns,n=(e.data,e.existExecutersList),a="\u041e\u0436\u0438\u0434\u0430\u0435\u043c\u044b\u0435"===ee.title(w.getState());return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,a||i.a.createElement(F,{title:"\u041f\u0440\u0438\u043d\u044f\u0442\u044c",click:t.accept}),i.a.createElement(U,{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",click:t.remove}),i.a.createElement(F,{title:"\u041e\u0442\u043a\u0430\u0437\u0430\u0442\u044c\u0441\u044f",click:t.reset})),i.a.createElement("div",null,i.a.createElement(ve,{handleSelect:t}),i.a.createElement(he,{existExecutersList:n,title:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u0435\u043c"},(function(e){return t.addOneMoreExecuter(e)})),i.a.createElement(ge,{handleChange:t})))},Oe=function(e){var t=e.handleBtns;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement(F,{title:"\u041e\u0442\u043a\u0430\u0437\u0430\u0442\u044c\u0441\u044f",click:t.reset}),i.a.createElement(U,{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",click:t.remove}),i.a.createElement(F,{title:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c",click:t.complete})))},xe=function(e){var t=e.handleBtns,n=e.ID;return i.a.createElement(U,{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",click:function(){return t.removeExecuter(n)}})},je=function(e){var t,n,a=e.handleClick,r=e.isOpen,c=e.data,u=c.date,o=c.task,l=c.name,s=c.priority,d=c.countExecuter,p=c.currCountExecuters,m=Le(c).styles,f=Le(c).title,E=pe(o),h=pe(l),v=se(s),g=(t=+(t=p),1===(n=+(n=d))?1:t===n?n:t<n?"".concat(t," \u0438\u0437 ").concat(n):void 0),b=de(u);return i.a.createElement("div",{className:W.a.item},i.a.createElement("div",{className:W.a.row,onClick:a},i.a.createElement("div",{className:W.a.titleTask},E),i.a.createElement("div",{className:W.a.titleDate},b),i.a.createElement("div",{className:W.a.titleName},h),i.a.createElement("div",{className:W.a.titleExecuters},g),i.a.createElement("div",{className:W.a.titlePriority},v),i.a.createElement("div",{className:m},f)),r&&i.a.createElement(Ae,e))},Ae=function(e){var t=e.data,n=e.handleBtns,a=e.existExecutersList,r=t.task,c=t.name,u=t.phone,o=t.executerList,l=t.status,s=t.caseNum;return i.a.createElement("div",{className:W.a.moreInfo},i.a.createElement("table",{className:W.a.infoTable},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"\u0424\u0418\u041e \u0437\u0430\u044f\u0432\u0438\u0442\u0435\u043b\u044f"),i.a.createElement("td",null,c)),i.a.createElement("tr",null,i.a.createElement("td",null,"\u041d\u043e\u043c\u0435\u0440 \u043a\u043e\u0440\u043f\u0443\u0441\u0430"),i.a.createElement("td",null,s)),i.a.createElement("tr",null,i.a.createElement("td",null,"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"),i.a.createElement("td",null,u)),i.a.createElement("tr",null,i.a.createElement("td",null,"\u0417\u0430\u0434\u0430\u0447\u0430"),i.a.createElement("td",null,r)),!!o.length&&i.a.createElement("tr",null,i.a.createElement("td",null,"\u0421\u043f\u0438\u0441\u043e\u043a \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u0435\u0439"),i.a.createElement("td",null,i.a.createElement("table",{className:W.a.exeutersTable},i.a.createElement("tbody",null,o.map((function(e){return i.a.createElement("tr",{key:z()()},i.a.createElement("td",null,e.full_name),i.a.createElement("td",null,"completed"!==l&&i.a.createElement(xe,{handleBtns:n,ID:e.ID})))})))))))),i.a.createElement("div",{style:{margin:"20px 0"}},Le(t).btnList(n,a)))},Le=function(e){switch(e.currStatus){case K[0].status:return{title:"\u0421\u0432\u043e\u0431\u043e\u0434\u043d\u043e",styles:"".concat(W.a.titleStatus," ").concat(W.a.statusFree),btnList:function(t,n){return Se(t,e,n)}};case K[1].status:return{title:"\u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435",styles:"".concat(W.a.titleStatus," ").concat(W.a.statusProcess),btnList:function(t,n){return Ie(t,e,n)}};case K[2].status:return{title:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e",styles:"".concat(W.a.titleStatus," ").concat(W.a.statusCompleted),btnList:function(){}};case K[3].status:return{title:"\u0418\u0434\u0451\u0442 \u043d\u0430\u0431\u043e\u0440",styles:"".concat(W.a.titleStatus," ").concat(W.a.statusFree),btnList:function(t,n){return ye(t,e,n)}};default:return}},Se=function(e,t,n){return i.a.createElement(be,{data:t,handleBtns:e,existExecutersList:n})},ye=function(e,t,n){return i.a.createElement(_e,{data:t,handleBtns:e,existExecutersList:n})},Ie=function(e,t){return i.a.createElement(Oe,{handleBtns:e})},Ce=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isOpen:!1,isFirstOpen:!0,executerList:[],currCountExecuters:null,countExecuter:1,currStatus:e.props.data.status},e.componentDidMount=function(){var t=e.props.data,n=t.currCountExecuters,a=t.countExecuter;e.setState({currCountExecuters:n,countExecuter:a})},e.firstOpenWrap=function(t){e.state.isFirstOpen&&(t(),e.setState({isFirstOpen:!1}))},e.handleClick=function(){var t=e.state.isOpen;e.firstOpenWrap((function(){return e.getExecutersList()})),e.setState((function(){return{isOpen:!t}}))},e.getExecutersList=function(){var t=e.props.data.id;Q.getExecuterList(t).then((function(t){return e.setState({executerList:t})}))},e.handleAccept=function(){if(window.confirm("\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043f\u0440\u0438\u043d\u044f\u0442\u0438\u0435 \u0437\u0430\u044f\u0432\u043a\u0438")){var t=e.props,n=t.data.id,a=t.removeApplication,r=t.userID;Q.postAcceptApp(r,n).then((function(){return a(n)}))}},e.handleReset=function(){if(window.confirm("\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043e\u0442\u043a\u0430\u0437 \u043e\u0442 \u0437\u0430\u044f\u0432\u043a\u0438")){var t=e.props,n=t.data.id,a=t.removeApplication,r=t.userID;Q.resetAppOfExecuter(r,n).then((function(){return a(n)}))}},e.handleRemove=function(){if(window.confirm("\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435")){var t=e.props,n=t.data.id,a=t.removeApplication;Q.removeAppItem(n).then((function(){return a(n)}))}},e.handleComplete=function(){if(window.confirm("\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435 \u0437\u0430\u044f\u0432\u043a\u0438")){var t=e.props,n=t.data.id,a=t.removeApplication;Q.toCompleteApp(n).then((function(){return a(n)}))}},e.handlePriority=function(t){var n=e.props,a=n.data.id,r=n.updatePriority;Q.setPriority(a,t).then((function(){return r(a,t)}))},e.filterHandle=function(){var t=e.state.currStatus,n=e.handleAccept,a=e.handleReset,r=e.handleRemove,c=e.handleRemoveExecuter,i=e.handleComplete,u=e.handlePriority,o=e.setCountExecuter,l=e.addOneMoreExecuter;switch(t){case K[0].status:return{accept:n,remove:r,setPriority:u,setCountExecuter:o,addOneMoreExecuter:l};case K[1].status:return{reset:a,remove:r,complete:i,removeExecuter:c};case K[3].status:return{reset:a,remove:r,accept:n,setPriority:u,addOneMoreExecuter:l,removeExecuter:c,setCountExecuter:o};default:return}},e.setCountExecuter=function(t){var n=e.props.data.id,a=t.target.value;Q.setCountExecuter(n,a).then((function(t){var n=t.newStatus;e.setState({countExecuter:a,currStatus:n})}),(function(e){return console.log(e)}))},e.handleRemoveExecuter=function(t){if(window.confirm("\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435")){var n=e.props,a=n.data.id,r=n.removeApplication,c=e.state,i=c.executerList,u=c.currCountExecuters,o=c.currStatus,l=i.filter((function(e){return e.ID!==t}));Q.resetAppOfExecuter(t,a).then((function(){if(!l.length&&"free"!==o&&"pending"!==o)return r(a);e.setState({executerList:l,currCountExecuters:u-1})}))}},e.addOneMoreExecuter=function(t){var n=e.props,a=n.data.id,r=n.removeApplication;Q.postAcceptApp(t,a).then((function(){var t=e.state.currCountExecuters+1;if(e.setState((function(e){return{currCountExecuters:e.currCountExecuters+1,currStatus:"pending"}})),e.state.countExecuter===t)return r(a);e.getExecutersList()}))},e.filterExecuters=function(){var t=e.props.existExecutersList,n=e.state.executerList;return t.filter((function(e){var t=e.ID;return!n.find((function(e){return t===e.ID}))}))},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.data,t=this.state,n=t.isOpen,a=t.executerList,r=t.currCountExecuters,c=t.countExecuter,u=t.currStatus,o=Object(j.a)({},e,{executerList:a,currCountExecuters:r,countExecuter:c,currStatus:u});return i.a.createElement(je,{data:o,handleClick:this.handleClick,handleBtns:this.filterHandle(),isOpen:n,existExecutersList:this.filterExecuters()})}}]),n}(c.Component),De=Object(X.b)((function(e){return{userID:P.id(e),existExecutersList:P.existExecuters(e)}}),(function(e){var t=Object(O.a)(a,e),n=t.updatePriority;return{removeApplication:t.removeApplication,updatePriority:n,addExecuterForApp:t.addExecuterForApp}}))(Ce),we=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){var t=e.props,n=t.setAppList,a=t.updateStatusLoad,r=t.updateTitleOfPage,c=t.userID,i=t.statusPage,u=t.titlePage,o=t.isAdmin;Q.getApplList(i,c,o).then((function(e){n(e),r(u),a(!1)}))},e._generateAppList=function(){var t=e.props.appList;return t.length?t.length&&t.map((function(e){return i.a.createElement(De,{data:e,key:z()()})})):i.a.createElement("h2",null,"\u041d\u0435\u0442 \u0437\u0430\u043f\u0438\u0441\u0435\u0439")},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.statusLoad,t=function(e,t){return function(n){Object(d.a)(r,n);var a=Object(p.a)(r);function r(){return Object(l.a)(this,r),a.apply(this,arguments)}return Object(s.a)(r,[{key:"render",value:function(){return t?i.a.createElement(ue,null):i.a.createElement(e,this.props)}}]),r}(c.Component)}(Z,e);return i.a.createElement(t,null,this._generateAppList())}}]),n}(c.Component),Pe=Object(X.b)((function(e){return{appList:ee.list(e),statusLoad:le.status(e),userID:P.id(e),isAdmin:"Administrator"===P.role(e)}}),(function(e){var t=Object(O.a)(a,e);return{setAppList:t.setAppList,updateTitleOfPage:t.updateTitleOfPage,updateStatusLoad:Object(O.a)(oe,e)}}))(we),Ne=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.titlePage,n=e.statusPage;return i.a.createElement(g,{title:t},i.a.createElement(k,null),i.a.createElement(Pe,{statusPage:n,titlePage:t}))}}]),n}(c.Component),Te=n(42),Re=n.n(Te),ke=function(e){var t=e.children;return i.a.createElement("aside",{className:Re.a.bgSidebar},t)},Me=n(43),Ue=n.n(Me),Fe=function(e){var t=e.children;return i.a.createElement("nav",{className:Ue.a.menu},t)},Be=n(37),qe=n.n(Be),Ge=n(44),We=n.n(Ge),Ze=function(e){for(var t="",n=(e="/".concat(We()().transform(e,"_").toLowerCase())).length,a=0;a<n;a++){var r=e[a-1],c=e[a];"_"===c&&"_"===r||(t+=c)}return t},Xe=function(e){var t=e.titleMenu,n=e.activeMenu?qe.a.activeItem:qe.a.item;return i.a.createElement(R.b,{to:Ze(t),className:n},t)},Ye=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).isActiveMenu=function(){var t=e.props;return t.titleMenu===t.titlePage},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.titleMenu;return i.a.createElement(Xe,{titleMenu:e,activeMenu:this.isActiveMenu()})}}]),n}(c.Component),He=Object(X.b)((function(e){return{appList:ee.list(e),statusLoad:le.status(e),userID:P.id(e),titlePage:ee.title(e)}}),(function(e){var t=Object(O.a)(a,e);return{setAppList:t.setAppList,updateTitleOfPage:t.updateTitleOfPage}}))(Ye),Je=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).getMenuList=function(){var e=a.props.role;return a.appList.filter((function(t){return t.forRole===e||!t.forRole})).map((function(e){return i.a.createElement(He,Object.assign({},e,{key:z()()}))}))},a.appList=K,a}return Object(s.a)(n,[{key:"render",value:function(){return i.a.createElement(Fe,null,this.getMenuList())}}]),n}(c.Component),Ve=Object(X.b)((function(e){return{role:P.role(e)}}),null)(Je),ze=n(21),Ke=n.n(ze),$e=n(9),Qe=n(45),et=n.n(Qe),tt=function(e){var t=e.handleExit,n=Object($e.g)();return i.a.createElement("button",{className:et.a.btn,onClick:function(){return t(n)}},"\u0412\u044b\u0439\u0442\u0438")},nt=function e(t){var n=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(l.a)(this,e),this.get=function(){var e=document.cookie.match(new RegExp("(?:^|; )".concat(n.name.replace(/([.$?*|{}()[]\\\/\+^])/g,"\\$1"),"=([^;]*)")));if(e){var t=decodeURIComponent(e[1]);return n.isObj&&void 0!==t&&(t=JSON.parse(t)),e?t:void 0}},this.set=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.isObj&&(e=JSON.stringify(e)),(t=Object(j.a)({path:"/","max-age":828e5},t)).expires instanceof Date&&(t.expires=t.expires.toUTCString());var a=encodeURIComponent(n.name)+"="+encodeURIComponent(e);for(var r in t){a+="; "+r;var c=t[r];!0!==c&&(a+="="+c)}document.cookie=a},this.remove=function(){n.set("",{"max-age":-1})},this.name=t,this.isObj=a},at=(new nt,new nt("user",!0)),rt=new nt("login");function ct(e){return{type:"SET_USER_INFO",data:e}}function it(e){return{type:"UPDATE_STATUS_LOGIN",isStatus:e}}function ut(e){return{type:"SET_EXIST_EXECUTERS",list:e}}function ot(e){return{type:"LOGIN",data:e}}function lt(){return{type:"LOGOUT"}}var st=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleExit=function(t){var n=e.props.logout;window.confirm("\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0432\u044b\u0445\u043e\u0434")&&Q.logout().then((function(e){at.remove(),rt.remove(),n(),t.push("/login")}))},e}return Object(s.a)(n,[{key:"render",value:function(){return i.a.createElement(tt,{handleExit:this.handleExit})}}]),n}(c.Component),dt=Object(X.b)(null,(function(e){return{logout:Object(O.a)(r,e).logout}}))(st),pt=function(e){var t=e.role,n=e.name;return i.a.createElement("div",{className:Ke.a.userInfo},i.a.createElement("div",{className:Ke.a.icon}),i.a.createElement(dt,null),i.a.createElement("h3",{className:Ke.a.title},n),i.a.createElement("h4",{className:Ke.a.title+" "+Ke.a.role},mt(t)))},mt=function(e){switch(e){case"Executer":return"\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c";case"Administrator":return"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440";default:return}},ft=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.role,n=e.name;return i.a.createElement(pt,{name:n,role:t})}}]),n}(c.Component),Et=Object(X.b)((function(e){return{role:P.role(e),name:P.name(e)}}),null)(ft),ht=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isLogin,n=e.userRole;return i.a.createElement(ke,null,!!t&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Et,null),"User"!==n&&i.a.createElement(Ve,null)))}}]),n}(c.Component),vt=Object(X.b)((function(e){return{isLogin:P.status(e),userRole:P.role(e)}}),null)(ht),gt=function(e){var t=e.children;return i.a.createElement(i.a.Fragment,null,t.map((function(e){var t=e.title,n=e.handle;return i.a.createElement("button",{onClick:n,key:z()()},t)})))},bt=n(28),_t=n.n(bt),Ot=function(e){var t=e.getStartDate,n=e.getEndDate;return i.a.createElement("div",null,i.a.createElement("label",{htmlFor:"date_start"},i.a.createElement("span",null,"\u0421: "),i.a.createElement("input",{type:"date",onChange:t,id:"date_start"})),i.a.createElement("label",{htmlFor:"date_end"},i.a.createElement("span",null,"\u041f\u043e: "),i.a.createElement("input",{type:"date",onChange:n,id:"date_end"})))},xt=function(e){var t=e.title,n=e.getExecuterReport,a=e.children,r=e.handleDate;return i.a.createElement("div",null,i.a.createElement("h2",{className:_t.a.title},t),i.a.createElement(Ee,{title:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044f"},(function(e){return n(e)})),a.length&&"process"!==a[0].status&&i.a.createElement("div",{className:_t.a.wrapCalendar},i.a.createElement(Ot,{getStartDate:r.getStartDate,getEndDate:r.getEndDate})),a.length?i.a.createElement("table",{className:_t.a.table},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("b",null,"\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c")),i.a.createElement("td",null,i.a.createElement("b",null,"\u041a\u043b\u0438\u0435\u043d\u0442")),i.a.createElement("td",null,i.a.createElement("b",null,"\u0417\u0430\u0434\u0430\u0447\u0430")),i.a.createElement("td",null,i.a.createElement("b",null,"\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430")),"process"!==a[0].status&&i.a.createElement("td",null,i.a.createElement("b",null,"\u0414\u0430\u0442\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f")))),i.a.createElement("tbody",null,a.map((function(e){return i.a.createElement("tr",{key:z()()},i.a.createElement("td",null,e.executer_name),i.a.createElement("td",null,e.client_name),i.a.createElement("td",null,e.task),i.a.createElement("td",null,de(e.date_start,".")),"process"!==e.status&&i.a.createElement("td",null,de(e.date_end,".")))})))):i.a.createElement("h3",null,"\u041d\u0435\u0442 \u0437\u0430\u043f\u0438\u0441\u0435\u0439"))},jt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={data:[],filteredData:!1,dateStart:!1,dateEnd:!1},e.getStartDate=function(t){var n=t.target.value,a=e.state.data,r=new Date(n),c=a.filter((function(t){var n=t.date_end,a=new Date(n);return r<a||n>e.state.dateEnd||de(r)===de(n)}));e.setState({filteredData:c,dateStart:r})},e.getEndDate=function(t){var n=t.target.value,a=e.state,r=a.data,c=a.dateStart,i=new Date(n),u=r.filter((function(e){var t=e.date_end,n=new Date(t);return i>n&&c<n}));e.setState({filteredData:u,dateEnd:i})},e.getList=function(t){var n=e.props.status;Q.getReportAppWithStatus(n,t).then((function(t){return e.setState({data:t,filteredData:!1})}))},e.componentDidMount=function(){var t=e.props.status;Q.getReportAppWithStatus(t).then((function(t){return e.setState({data:t})}))},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.title;return i.a.createElement(xt,{getExecuterReport:this.getList,title:e,handleDate:{getStartDate:this.getStartDate,getEndDate:this.getEndDate}},this.state.filteredData?this.state.filteredData:this.state.data)}}]),n}(c.Component),At=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){(0,a.props.updateTitleOfPage)("\u041e\u0442\u0447\u0451\u0442\u044b")},a.getReportListWithStatus=function(e,t){a.setState({titleReport:t,currentReport:function(){return i.a.createElement(jt,{status:e,title:t})}})},a.state={reportList:[{title:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435 \u0437\u0430\u044f\u0432\u043a\u0438",handle:function(){return a.getReportListWithStatus("completed","\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435 \u0437\u0430\u044f\u0432\u043a\u0438")}},{title:"\u0417\u0430\u044f\u0432\u043a\u0438 \u0432 \u0440\u0430\u0431\u043e\u0442\u0435",handle:function(){return a.getReportListWithStatus("process","\u0417\u0430\u044f\u0432\u043a\u0438 \u0432 \u0440\u0430\u0431\u043e\u0442\u0435")}}],titleReport:"asd",currentReport:null},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state.reportList,t=this.state.currentReport;return i.a.createElement(i.a.Fragment,null,i.a.createElement(gt,null,e),t&&i.a.createElement(t,null))}}]),n}(c.Component),Lt=Object(X.b)(null,(function(e){return{updateTitleOfPage:Object(O.a)(a,e).updateTitleOfPage}}))(At),St=function(){return i.a.createElement(g,{title:"\u041e\u0442\u0447\u0435\u0442\u044b"},i.a.createElement(Lt,null))},yt=n(22),It=n.n(yt),Ct=function(e){var t=e.handleLogin,n=e.handlePassword,a=e.handleSend,r=e.errorText,c=Object($e.g)();return i.a.createElement("div",{className:It.a.login},i.a.createElement("div",{className:It.a.field},i.a.createElement("h2",null,"\u041b\u043e\u0433\u0438\u043d"),i.a.createElement("input",{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d",onChange:t})),i.a.createElement("div",{className:It.a.field},i.a.createElement("h2",null,"\u041f\u0430\u0440\u043e\u043b\u044c"),i.a.createElement("input",{type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",onChange:n})),r&&i.a.createElement("div",{className:It.a.err},r),i.a.createElement("button",{type:"button",onClick:function(){return a(c)},className:It.a.btn},"\u0412\u043e\u0439\u0442\u0438"))},Dt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={login:"",password:"",errorText:""},e.handleLogin=function(t){var n=t.target.value;e.setState({login:n})},e.handlePassword=function(t){var n=t.target.value;e.setState({password:n})},e.successfulAuth=function(t,n){if((0,e.props.doLogin)(t),at.set(Object(j.a)({},t)),rt.set(!0),"User"===t.role)return n.push("/application/add");n.push(Ze("\u0421\u0432\u043e\u0431\u043e\u0434\u043d\u044b\u0435"))},e.handleSend=function(t){var n=e.state,a=n.login,r=n.password;Q.login(a,r).then((function(n){!1!==n.status&&e.successfulAuth(n,t)}),(function(t){403===t&&e.setState({errorText:"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"})}))},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state.errorText;return i.a.createElement(Ct,{handleLogin:this.handleLogin,handlePassword:this.handlePassword,handleSend:this.handleSend,errorText:e})}}]),n}(c.Component),wt=Object(X.b)((function(e){return{loginStatus:P.getAllInfo(e)}}),(function(e){return{doLogin:Object(O.a)(r,e).login}}))(Dt),Pt=n(46),Nt=n.n(Pt),Tt=function(){return i.a.createElement(g,{title:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"},i.a.createElement("div",{className:Nt.a.center},i.a.createElement(wt,null)))},Rt=n(27),kt=n(19),Mt=n.n(kt),Ut=function(e){var t=e.handleChange,n=e.handleSubmit,a=e.error,r=Object($e.g)();return i.a.createElement("div",{className:Mt.a.formAddAoolication},i.a.createElement("div",{className:Mt.a.field},i.a.createElement("h3",null,"\u0418\u043c\u044f \u0424\u0430\u043c\u0438\u043b\u0438\u044f \u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e*"),i.a.createElement("input",{type:"text",placeholder:"\u0424\u0418\u041e",onChange:function(e){return t("fullName",e)}})),i.a.createElement("div",{className:Mt.a.field},i.a.createElement("h3",null,"\u041d\u043e\u043c\u0435\u0440 \u043a\u043e\u0440\u043f\u0443\u0441\u0430*"),i.a.createElement("select",{onChange:function(e){return t("caseNum",e)}},i.a.createElement("option",null,"1"),i.a.createElement("option",null,"2"))),i.a.createElement("div",{className:Mt.a.field},i.a.createElement("h3",null,"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430*"),i.a.createElement("input",{type:"tel",placeholder:"+7",required:!0,onChange:function(e){return t("phone",e)}})),i.a.createElement("div",{className:Mt.a.field},i.a.createElement("h3",null,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438*"),i.a.createElement("textarea",{required:!0,onChange:function(e){return t("task",e)}})),i.a.createElement("div",{className:Mt.a.error},a),i.a.createElement(M,{title:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",click:function(){return n(r)}}))},Ft=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={data:{fullName:"",caseNum:1,phone:"",task:""},error:!1},e.handleChangeInput=function(t,n){var a=n.target.value;e.setState((function(e){var n=e.data;return{data:Object(j.a)({},n,Object(Rt.a)({},t,a))}}))},e.handleSubmit=function(t){var n=Object(j.a)({},e.state.data);for(var a in n)if(!n[a])return e.setState({error:"\u041e\u0434\u043d\u043e \u0438\u0437 \u043f\u043e\u043b\u0435\u0439 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e"});window.confirm("\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0443")&&Q.addApplication(n).then((function(){alert("\u0417\u0430\u044f\u0432\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430"),t.push("/")}),(function(e){return console.log(e)}))},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state.error;return i.a.createElement(Ut,{handleChange:this.handleChangeInput,handleSubmit:this.handleSubmit,error:e})}}]),n}(c.Component),Bt=function(){return i.a.createElement(g,{title:"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u044f\u0432\u043a\u0430"},i.a.createElement(Ft,null))},qt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){var t=e.props,n=t.setExistExecuters,a=t.login;Q.getExistExecuters().then((function(e){n(e)}));var r=at.get();r&&a(r)},e}return Object(s.a)(n,[{key:"render",value:function(){var e=function(e){return function(t){Object(d.a)(a,t);var n=Object(p.a)(a);function a(t){var r;return Object(l.a)(this,a),(r=n.call(this,t)).componentDidMount=function(){r._isMounted=!0,r.updateLoginStatus(),r.subscriber()},r.subscriber=function(){w.subscribe(r.updateLoginStatus)},r.componentWillUnmount=function(){r._isMounted=!1,(0,r.subscriber)()},r.updateLoginStatus=function(){var e=P.status(w.getState()),t=P.role(w.getState());e!==r.state.isLogin&&r._isMounted&&r.setState({isLogin:e,role:t})},r.renderForRoute=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return i.a.createElement(e,Object.assign({},r.props,{statusPage:n,titlePage:t}))},r.routeConstructor=function(e,t){return i.a.createElement($e.b,{path:e,key:z()(),render:t})},r.getListRoutes=function(){return K.filter((function(e){return e.status})).map((function(e){var t=e.titleMenu,n=e.status;return r.routeConstructor(Ze(t),(function(){return r.renderForRoute(t,n)}))}))},r.otherRoutes=function(){if("Administrator"===r.state.role)return[r.routeConstructor(Ze("\u041e\u0442\u0447\u0451\u0442\u044b"),St)]},r.loginRoute=function(){return[r.routeConstructor("/login",Tt)]},r.addAppPage=function(){return[r.routeConstructor("/application/add",Bt)]},r.renderForMain=function(){var e=r.state,t=e.isLogin,n=e.role;if(t&&"User"!==n)return i.a.createElement(i.a.Fragment,null,i.a.createElement($e.a,{from:"/login",to:Ze("\u0441\u0432\u043e\u0431\u043e\u0434\u043d\u044b\u0435")}),r.getListRoutes(),r.otherRoutes(),r.addAppPage())},r.generatePageAddApplication=function(){var e=r.state,t=e.isLogin,n=e.role;if(t&&"User"===n)return r.addAppPage()},r.state={isLogin:!1,role:!1},r._isMounted=!1,r}return Object(s.a)(a,[{key:"render",value:function(){return i.a.createElement($e.d,null,i.a.createElement($e.a,{exact:!0,from:"/",to:"/login"}),this.renderForMain(),this.loginRoute(),this.generatePageAddApplication())}}]),a}(c.Component)}(Ne);return i.a.createElement(E,null,i.a.createElement(vt,null),i.a.createElement(e,null))}}]),n}(c.Component),Gt=Object(X.b)((function(e){return{existExecutersList:P.existExecuters(e)}}),(function(e){var t=Object(O.a)(r,e);return{setExistExecuters:t.setExistExecuters,login:t.login}}))(qt),Wt=function(){return i.a.createElement(R.a,null,i.a.createElement(X.a,{store:w},i.a.createElement(i.a.StrictMode,null,i.a.createElement(Gt,null))))};o.a.render(i.a.createElement(Wt,null),document.getElementById("root"))}],[[47,1,2]]]);
//# sourceMappingURL=main.93065a52.chunk.js.map